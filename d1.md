# Linux D01
## Установка оперционной системы Ubuntu server 20.04 lts
- команда 'cat /etc/issue' покажет версию системы
![system](screens/show_system_version.png)

## Создание пользователя отличного от первоначального
- команда adduser добавляет новго пользователя
![add_user](screens/add_user.png)
- добавим пользователя в группу adm
![add_user_adm](screens/add_user_adm.png)
- проверка добавления пользователя командой 'cat /etc/passwd'
![cat_etc](screens/etc_passwd.png)

## Настройка сети
#### Задать название машины вида user-1
- редактируем файл '/etc/hostname'
![hostname](screens/host_name.png)
#### Установить временную зону, соответствующую вашему текущему местоположению.
- устанавливаем временную зону 
![set_localetime](screens/set_localetime.png)
#### Вывести названия сетевых интерфейсов с помощью консольной команды.
- выводим название сетевых интерфейсов
![network_interfaces](screens/ip_link_show.png)
- lo (loopback device) - виртуальный сетевой интерфейс. Используется для отладки сетевых программ и запуска серверных приложений на локальной машине по адресу 127.0.0.1 (localhost).
#### Используя консольную команду получить ip адрес устройства, на котором вы работаете, от DHCP сервера. 
- получаем ip аддрес узла от DHCP
![ip_addr](screens/ip_dhcp.png)
- Dynamic Host Configuration Protocol — протокол динамической настройки узла
#### Определить и вывести на экран внешний ip-адрес шлюза (ip) и внутренний IP-адрес шлюза, он же ip-адрес по умолчанию (gw). 
- получаем внешний айпи адрес 
![ip_addr_curl](screens/ip_addr_curl.png)
- получаем внутренний айпи адрес шлюза
![ip_addr_route](screens/ip_addr_route.png)
#### Задать статичные (заданные вручную, а не полученные от DHCP сервера) настройки ip, gw, dns (использовать публичный DNS серверы, например 1.1.1.1 или 8.8.8.8).  
- задаем статический айпи адрес 
![set_static_ip](screens/ip_set_static.png)
#### Перезагрузить виртуальную машину. Убедиться, что статичные сетевые настройки (ip, gw, dns) соответствуют заданным в предыдущем пункте. 
- проверяем
![ip_check](screens/ip_check.png)
- ping 1.1.1.1 и ya.ru
![ping](screens/ping.png)

## Обновление ОС
- обновление операционной системы
![upgrade](screens/upgrade.png)

## Использование команды sudo
- добавляем пользователя в группу sudo
![add_sudo](screens/add_dasha_sudo.png)
![sudoers](screens/dasha_sudo.png)
- sudo позволяет другому пользователю выполнять команду от суперпользователя, либо другого пользователя. Команда используется для разграничения полномочий между пользователями входящими в группу sudo, не выдавая при этом пароля root.
- изменение hostnameс помощью sudo
![sudo_vim](screens/sudo_vim.png)
![sudo_vim_change](screens/sudo_vim_change.png)
![sudo_vim_after](screens/sudo_vim_after.png)


## Установка и настройка службы времени
- установка и настройка службы времени с помощью команды 'timedatectl'
![timedatectl_set_zone](screens/timedatactl_set_timezone.png)
![timedatectl_set_ntp](screens/timedatectl_set_ntp_true.png)
![timedatectl](screens/timedatectl.png)
![timedatectl_show](screens/timedatectl_show.png)

## Установка текстового редактора VIM и двух по желанию
- установка редакторов командой sudo apt install vim nano micro
- создание и редактирование файла test_vim.txt
![vim](screens/edit_vim.png)
![vim_cat](screens/cat_vim.png)
- для выхода и сохранения нужно сочетание клавишь :wq
- создание и редактирование файла test_micro.txt
![micro](screens/edit_micro.png)
![micro_cat](screens/cat_micro.png)
- для выхода и сохранения последовательность клавишь ctrl+S и ctrl+Q
- создание и редактирование файла test_nano.txt
![nano](screens/edit_nano.png)
![nano_cat](screens/cat_nano.png)
- для выхода и сохранения последовательность клавишь ctrl+O и подтвердить выбраный файл для сохранения и ctrl+X для выхода
### Замена без сохранения 
- замена никнейма на 21 School 21 в редакторе VIM
- вывод без сохранения :q!
![vim_edit](screens/vim_replace.png)
- замена никнейма на 21 School 21 в редакторе micro
- ctrl + E открывается командная строка печатаем replace 'что' 'на что' подтверждаем изменения
- выходим без сохранения ctrl + Q при запросе на сохранение изменения выбираем n
![micro_edit](screens/micro_replace.png)
![micro_after_replcae](screens/micro_after_replace.png)
- замена никнейма на 21 School 21 в редакторе nano
- ctrl + \ что меняем enter на что меняем y для подтверждения замены
- выход из редактора без сохранения через ctrl+x выбираем не сохранять изменения n
![nano_edit](screens/replace_nano.png)
![nano_after_replace](screens/after_replace_nano.png)
![after_edit](screens/after_edit.png)
### Поиск и замена с сохранением
- замена слова путем поиска в редакторе vim
- :%s/что/на что
- выход с сохранением :wq
![vim_replace](screens/vim_replace_save.png)
- замена слова путем поиска в редакторе micro
- ctrl + E открывается командная строка печатаем replace 'что' 'на что' подтверждаем изменения y
- выходим с сохранением ctrl + Q при запросе на сохранение изменения выбираем y
![micro_replace_save](screens/micro_replace_save.png)
- замена слова путем поиска в редакторе nano
- ctrl + \ что меняем enter на что меняем y для подтверждения замены
- выход из редактора с сохранением ctrl+x выбираем не сохранять изменения y
![nano_find_replace](screens/nano_replace_find.png)
![nano_for_replace](screens/nano_replace_for.png)
![nano_for_replace](screens/nano_replace_accept.png)
![after_replace](screens/after_replace_save.png)

## Установка и базовая настройка SSHD
- Установка производится командой 'sudo apt-get install openssh-server'
![sshd_install](screens/sshd.png)
- после установки включаем службу 'sudo systemctl enable sshd.service', теперь она будет запускаться при включении компьютера
![sshd_enable](screens/enable_sshd.png)
![sshd_check](screens/sshd_check_enable.png)
- Настройка конфигурационного файла 'sudo vim /etc/ssh/sshd.config' производится с помощью редактора например vim
![sshd_config](screens/sshd_config.png)
- После изменения конфига перезапускаем службу командой 'sudo systemctl restart ssh'
- Проверить изменения можно подключившись к localhost командой 'ssh -p 2022 localhost'
![sshd_connect](screens/sshd_connect.png)
- Как видим из вывода netstat -tan сервер запущен и подключен 
![sshd_after_reboot](screens/sshd_after_reboot.png)
- программа netstat показывает статус сети, команда -t отображает список соединения TCP, -a показывает список всех портов, -n отображает в числовом формате, не отображая имя хоста
- адресс 0.0.0.0 используется в сети как немаршрутизируемый адрес IPv4, он используется во время инициализации системы, когда устройство использует его до того, как ему будет назначен реальный IP-адррес, в качестве адреса по умолчанию.

## Установка и использование утилит top и htop
### отображение утилиты top
- uptime = 31 min
- количество авторизованных пользователей = 2 users
- общую загрузку системы = load average 0,00 0,00 0,00
- общее количество процессов = task = 96
- загрузку cpu = 0.0
![cpu](screens/cpu.png)
- загрузку памяти = used 148.5M
![mem](screens/mem.png)
- pid процесса занимающего больше всего памяти = pid 631 network_d-dispat
![pid_mem](screens/pid_mem_max.png)
- pid процесса, занимающего больше всего процессорного времени = pid 1129 top
![pid_cpu](screens/pid_cpu_max.png)
### отображение утилиты htop
- отсортированному по PID, PERCENT_CPU, PERCENT_MEM, TIME
![htop_sort_pid](screens/htop_sort_pid.png)
![htop_cpu_percent](screens/htop_cpu_percent.png)
![htop_mem_percent](screens/htop_mem_percent.png)
![htop_sort_time](screens/htop_time.png)
- отфильтрованному для процесса sshd
![htop_sshd](screens/htop_sshd.png)
- с процессом syslog, найденным, используя поиск 
![htop_syslog](screens/htop_search_syslog.png)
- с добавленным выводом hostname, clock и uptime
![htop_hostname](screens/htop_add_hostname.png)

## Использование утилиты fdisk
- название жесткого диска /dev/sda размер 10 гигабайт 20971520 swap 1.8 гига
![fdisk_l](screens/fdisk_l.png)

## Использование утилиты df
#### Запустить команду df.  
- размер корневого раздела = 8408452 килобайта
- размер занятого пространства = 4286052 килобайта
- размер свободного пространства = 3673684 килобайта
- процент использования = 54%
- единицу измерения = килобайт.
![df](screens/df.png) 
#### Запустить команду df -Th
- размер раздела 8.1 гигабайта
- размер занятого пространства = 4.1 гигабайта
- размер свободного пространства = 3.6 гигабайта
- процент использования = 54%
- тип файловой системы ext4(extendet file system).
![df_th](screens/df_th.png)

## Использование утилиты du
#### Вывести размер папок /home, /var, /var/log (в байтах, в человекочитаемом виде)
![du_home](screens/du.png)
![du_var](screens/du_var.png)
![du_var_log](screens/du_var_log.png)
![du_home_human](screens/du_home_human.png)
![du_var_human](screens/du_var_hum.png)
![du_var_log_human](screens/du_var_log_hum.png)
#### Вывести размер всего содержимого в /var/log (не общее, а каждого вложенного элемента, используя *)
![du_log_astr](screens/du_log_astr.png)
![du_log_astr_exit](screens/du_log_astr_exit.png)

## Установка и использование утилиты ncdu
- устанавливаем командой 'sudo apt install ncdu'
#### Вывести размер папок /home, /var, /var/log.
![ncdu_home](screens/ncdu_home.png)
![ncdu_var](screens/ncdu_var.png)
![ncdu_var_log](screens/ncdu_var_log.png)

## Работа с системными журналами
![dmesg](screens/dmesg.png)
![syslog](screens/syslog.png)
![auth](screens/auth.png)
- Время последней успешной авторизации 16:08, имя пользователя trudieis и метод входа в систему сессия открыта рутом для трудиса.
![last_session](screens/last_session.png)
- Перезапустить службу SSHd.
- Вставить в отчёт скрин с сообщением о рестарте службы (искать в логах).
![restart_sshd](screens/restart_sshd.png)

## Использование планировщика заданий **CRON**
#### Используя планировщик заданий, запустите команду uptime через каждые 2 минуты.
- Командой crontab -e редактируем редактором на выбор планировщик
![crontab_edit](screens/crontab_edit.png)
- Список текущих задач для cron
![crontab_l](screens/crontab_l.png)
- запись в системном журнале
![crontab_log](screens/cron_log.png)
#### Удалите все задания из планировщика заданий.
- удаление заданий командой 'crontab -r'
- проверка списка задач для cron после удаления
![crontab_delete](screens/cron_delete.png)
